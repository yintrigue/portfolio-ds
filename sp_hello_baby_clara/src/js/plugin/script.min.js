function onWindowsResize(){enableHPAnimation(),updatePackery()}function enablePopUp(){$("#contact").popup({opacity:OVERLAY_OPACITY,transition:OVERLAY_TRANSITION_TIME,color:OVERLAY_BACKGROUND_COLOR,bg:OVERLAY_BACKGROUND,opentransitionend:function(){$("#contact #contact_info").css("visibility","visible"),$("#contact #contact_info").css("animation","anime-jelly 1000ms linear both")}}),$("#menu_contact").click(function(o){$("#contact").popup("show")})}function updatePackery(){if(null!=PHOTOS_JASON){var o=PHOTOS_JASON.photos.directory.large,_=PHOTOS_JASON.photos.directory.small,t=PHOTOS_JASON.photos.files.name,n=$("#content_block #photos_container"),O=parseInt($("#content_block").css("padding-left")),i=$("#content_block").width(),e=PRESET_PHOTO_WITH,T=!1;if(0!=LAYOUT_STATE&&(T=!0),O==COMPACT_LAYOUT_SIDE_PADDING){LAYOUT_STATE=2;e=(i-PHOTO_LAYOUT_GUTTER*(COMPACT_LAYOUT_COLUMN_COUNT-1+2))/COMPACT_LAYOUT_COLUMN_COUNT}else{LAYOUT_STATE=1;var E=(i-PRESET_PHOTO_WITH)/(PRESET_PHOTO_WITH+PHOTO_LAYOUT_GUTTER)+1;E=Math.floor(E);var I=i-(PRESET_PHOTO_WITH+PHOTO_LAYOUT_GUTTER)*(E-1)+PRESET_PHOTO_WITH;if((I/=2)>MAX_PHOTOS_DIV_SIDE_MARGIN||!T){var a=E+1;e=(i-2*MAX_PHOTOS_DIV_SIDE_MARGIN-PHOTO_LAYOUT_GUTTER*(a-1))/a}}e=Math.round(e);for(var c=0;c<t.length;c++){var s;if(T)s=$(document.querySelectorAll(".photo")[c]);else{s=$("#template .photo").clone();var P=$("<img></img>"),l=o,A=t[c];TEST_MODE&&(l="http://www.yintrigue.com/hellobabyclara/img/photos/large/",A=A.toUpperCase()),P.data("photoURL",l+A),P.attr("src",_+A),P.appendTo(s),P.load(function(){$(this).parent().css("z-index","10000"),$(this).css("animation","anime-jelly-light 1000ms linear both")}),P.click(function(){popPhotoOverlay($(this).data("photoURL"))}),s.appendTo(n)}var H=e;t[c].indexOf(SELECT_PHOTO_IDENTIFIER)>=0&&(H*=2,H+=PHOTO_LAYOUT_GUTTER),s.css("width",H+"px"),s.css("height",H+"px")}n.packery({itemSelector:".photo",columnWidth:e,gutter:PHOTO_LAYOUT_GUTTER,fitWidth:!0,horizontalOrder:!1,stagger:30,resize:!0})}}function popPhotoOverlay(o){$("#photoOverlay").popup({opacity:OVERLAY_OPACITY,transition:OVERLAY_TRANSITION_TIME,color:OVERLAY_BACKGROUND_COLOR,bg:OVERLAY_BACKGROUND,opentransitionend:function(){var _=$("#photoOverlay img");_.attr("src",o),_.load(function(){EXIF.getData($(this)[0],function(){EXIF.getIptcTag(this,"headline"),EXIF.getTag(this,"ImageDescription"),EXIF.getTag(this,"Model"),EXIF.getTag(this,"Artist"),EXIF.getTag(this,"DateTimeOriginal"),EXIF.getIptcTag(this,"country"),EXIF.getIptcTag(this,"state"),EXIF.getIptcTag(this,"city"),EXIF.getIptcTag(this,"subLocation"),EXIF.getTag(this,"ImageWidth"),EXIF.getTag(this,"ImageHeight"),EXIF.getIptcTag(this,"dateCreated"),EXIF.getTag(this,"ISOSpeedRatings"),EXIF.getTag(this,"LensInfo"),EXIF.getTag(this,"FNumber").valueOf(),EXIF.getTag(this,"FocalLength").valueOf()})}),$(window).click(function(o){$("#photoOverlay").popup("hide"),$(window).off("click")})}}),$("#photoOverlay").popup("show")}function enableHPAnimation(){var o=$("#logo_sky_img"),_=$("#logo_img"),t=$("#hp_footer_container");null===HOMEPAGE_SHOW_STATUS&&($(window).scrollTop(0),HP_SKY_INI_Y=o.position().top,HP_LOGO_INI_Y=_.position().top,HP_MENU_INI_Y=t.position().top,HP_ITEM_HIDE_Y=-$("#content_block").width(),bounceMotion(o,HP_ITEM_HIDE_Y,!1,!1,0),bounceMotion(_,HP_ITEM_HIDE_Y,!1,!1,0),bounceMotion(t,HP_ITEM_HIDE_Y,!1,!1,0),$("#homepage").css("visibility","visible"),bounceMotion(t,HP_MENU_INI_Y,!0,!0,HP_SHOW_DELAY),bounceMotion(_,HP_LOGO_INI_Y,!0,!0,HP_SHOW_DELAY+HP_ITEM_ANIME_GAP),bounceMotion(o,HP_SKY_INI_Y,!0,!0,HP_SHOW_DELAY+2*HP_ITEM_ANIME_GAP),HOMEPAGE_SHOW_STATUS=1,CURRENT_SCROLL_POSITION=$(window).scrollTop());var n=$("#homepage").height();$(window).off("scroll"),$(window).scroll(function(O){var i=CURRENT_SCROLL_POSITION,e=CURRENT_SCROLL_POSITION=$(window).scrollTop(),T=Math.floor(e-i),E=null;T<0?E=!1:T>0&&(E=!0),0==(HOMEPAGE_SHOW_STATUS=e>=n?0:e<=0?1:2)?(bounceMotion(t,HP_ITEM_HIDE_Y,!1,!1,0),bounceMotion(_,HP_ITEM_HIDE_Y,!1,!1,0),bounceMotion(o,HP_ITEM_HIDE_Y,!1,!1,0)):1==HOMEPAGE_SHOW_STATUS?(bounceMotion(t,HP_MENU_INI_Y,!0,!0,0),bounceMotion(_,HP_LOGO_INI_Y,!0,!0,HP_ITEM_ANIME_GAP),bounceMotion(o,HP_SKY_INI_Y,!0,!0,2*HP_ITEM_ANIME_GAP)):!0===E?e>=n/1.4?bounceMotion(t,HP_ITEM_HIDE_Y,!1,!0,0):e>=n/2.5?bounceMotion(_,HP_ITEM_HIDE_Y,!1,!0,0):bounceMotion(o,HP_ITEM_HIDE_Y,!1,!0,0):!1===E&&(e<=n/4?bounceMotion(o,HP_SKY_INI_Y,!0,!0,0):e<=n/1.6?bounceMotion(_,HP_LOGO_INI_Y,!0,!0,0):bounceMotion(t,HP_MENU_INI_Y,!0,!0,0))})}function bounceMotion(o,_,t,n,O){o.velocity("stop"),n?t?o.velocity({top:_},{duration:BOUNCE_SPEED,easing:BOUNCE_MOTION,delay:O}):o.velocity({top:_},{duration:SLIDE_SPEED,easing:SLIDE_MOTION,delay:O}):o.css("top",_)}var TEST_MODE=!0,HOMEPAGE_SHOW_STATUS=null,BOUNCE_SPEED=800,BOUNCE_MOTION=[300,25],SLIDE_SPEED=3e3,SLIDE_MOTION="easeOutExpo",HP_ITEM_ANIME_GAP=50,HP_SHOW_DELAY=250,HP_SKY_INI_Y=0,HP_LOGO_INI_Y=0,HP_MENU_INI_Y=0,HP_ITEM_HIDE_Y=0,DATA_JSON_PATH="https://www.yintrigue.com/hellobabyclara/json/photos.json",PHOTOS_JASON=null,SELECT_PHOTO_IDENTIFIER="select",PHOTO_LAYOUT_GUTTER=5,PRESET_PHOTO_WITH=170,LAYOUT_STATE=0,COMPACT_LAYOUT_COLUMN_COUNT=3,CVIEWPORT_WIDTH_THRESHOLD_TO_COMPACT=800,COMPACT_LAYOUT_SIDE_PADDING=5,MAX_PHOTOS_DIV_SIDE_MARGIN=50,CURRENT_SCROLL_POSITION=0,BG_URL="img/hello-baby-clara-sleeping-background.jpg",BG_LOAD_DELAY=1500,OVERLAY_OPACITY=.96,OVERLAY_TRANSITION_TIME="all 0.1s",OVERLAY_BACKGROUND_COLOR="#fff",OVERLAY_BACKGROUND='url("https://www.transparenttextures.com/patterns/clean-textile.png")';$(window).on("load",function(){$.getJSON(DATA_JSON_PATH,function(o){PHOTOS_JASON=o,enablePopUp(),onWindowsResize(),$(window).on("resize",onWindowsResize),setTimeout(function(){$("body").css("background-image","url("+BG_URL+")")},BG_LOAD_DELAY)})});